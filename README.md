# 🎨 Image Whiteboard - 图像白板工具

<div align="center">
  <img src="https://img.shields.io/badge/React-18.2.0-61DAFB?style=for-the-badge&logo=react&logoColor=white" alt="React" />
  <img src="https://img.shields.io/badge/TypeScript-5.4.3-3178C6?style=for-the-badge&logo=typescript&logoColor=white" alt="TypeScript" />
  <img src="https://img.shields.io/badge/Paper.js-0.12.17-FF6B6B?style=for-the-badge&logo=javascript&logoColor=white" alt="Paper.js" />
  <img src="https://img.shields.io/badge/Redux_Toolkit-2.2.1-764ABC?style=for-the-badge&logo=redux&logoColor=white" alt="Redux Toolkit" />
</div>

<div align="center">
  <h3>🖼️ 专业的图像白板工具</h3>
  <p>基于 React + Paper.js 构建的现代化图像标注和绘图平台</p>
  
  <a href="https://project-label-v2.vercel.app/" target="_blank">
    <img src="https://img.shields.io/badge/🌐-在线演示-00C7B7?style=for-the-badge&logo=vercel&logoColor=white" alt="在线演示" />
  </a>
</div>

## 项目概述

Image Whiteboard 是一个基于 React + TypeScript + Paper.js 开发的图像白板工具，提供丰富的绘图工具和标注功能。该项目主要用于图像标注、数据标注、可视化编辑和在线绘图等场景。

## 🛠️ 技术栈

### 🔧 核心技术
<table>
<tr>
<td align="center" width="25%">
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/react/react-original.svg" width="40" height="40" alt="React" />
  <br/><strong>React 18.2.0</strong>
  <br/>前端框架
</td>
<td align="center" width="25%">
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/typescript/typescript-original.svg" width="40" height="40" alt="TypeScript" />
  <br/><strong>TypeScript 5.4.3</strong>
  <br/>类型安全
</td>
<td align="center" width="25%">
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg" width="40" height="40" alt="Paper.js" />
  <br/><strong>Paper.js 0.12.17</strong>
  <br/>2D 矢量图形库
</td>
<td align="center" width="25%">
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/redux/redux-original.svg" width="40" height="40" alt="Redux" />
  <br/><strong>Redux Toolkit 2.2.1</strong>
  <br/>状态管理
</td>
</tr>
</table>

### 🎨 UI 组件库
<table>
<tr>
<td align="center" width="25%">
  <img src="https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg" width="40" height="40" alt="Ant Design" />
  <br/><strong>Ant Design 5.15.1</strong>
  <br/>UI 组件库
</td>
<td align="center" width="25%">
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/tailwindcss/tailwindcss-original-wordmark.svg" width="40" height="40" alt="Tailwind CSS" />
  <br/><strong>Tailwind CSS 3.0.2</strong>
  <br/>样式框架
</td>
<td align="center" width="25%">
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/framer/framer-original.svg" width="40" height="40" alt="Framer Motion" />
  <br/><strong>Framer Motion 11.3.8</strong>
  <br/>动画库
</td>
<td align="center" width="25%">
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/react/react-original.svg" width="40" height="40" alt="React Icons" />
  <br/><strong>React Icons 5.2.1</strong>
  <br/>图标库
</td>
</tr>
</table>

### 🎬 图形和动画
<table>
<tr>
<td align="center" width="25%">
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/threejs/threejs-original.svg" width="40" height="40" alt="Three.js" />
  <br/><strong>Three.js 0.162.0</strong>
  <br/>3D 图形库
</td>
<td align="center" width="25%">
  <img src="https://lottie.host/static/logo.svg" width="40" height="40" alt="Lottie" />
  <br/><strong>Lottie React 2.4.0</strong>
  <br/>动画渲染
</td>
<td align="center" width="25%">
  <img src="https://particles.js.org/images/logo.png" width="40" height="40" alt="TSParticles" />
  <br/><strong>TSParticles 3.3.0</strong>
  <br/>粒子效果
</td>
<td align="center" width="25%">
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/canvas/canvas-original.svg" width="40" height="40" alt="Lucky Canvas" />
  <br/><strong>Lucky Canvas 0.1.13</strong>
  <br/>抽奖转盘组件
</td>
</tr>
</table>

### 🔨 开发工具
<table>
<tr>
<td align="center" width="25%">
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/webpack/webpack-original.svg" width="40" height="40" alt="Webpack" />
  <br/><strong>Webpack 5.64.4</strong>
  <br/>模块打包
</td>
<td align="center" width="25%">
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/babel/babel-original.svg" width="40" height="40" alt="Babel" />
  <br/><strong>Babel</strong>
  <br/>JavaScript 编译器
</td>
<td align="center" width="25%">
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/jest/jest-plain.svg" width="40" height="40" alt="Jest" />
  <br/><strong>Jest 27.4.3</strong>
  <br/>测试框架
</td>
<td align="center" width="25%">
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/eslint/eslint-original.svg" width="40" height="40" alt="ESLint" />
  <br/><strong>ESLint</strong>
  <br/>代码检查
</td>
</tr>
</table>

## 📁 项目结构

```
📦 image-whiteboard
├── 🎨 src/
│   ├── 🧩 components/           # 通用组件
│   │   ├── 🎨 ui/              # UI 组件
│   │   ├── 🔘 ButtonCommon.tsx # 通用按钮
│   │   ├── 🃏 Card.tsx         # 卡片组件
│   │   └── ...
│   ├── 📄 pages/
│   │   └── 🏷️ Label/           # 标注功能模块
│   │       ├── 🎯 Center/      # 居中组件
│   │       ├── 🖼️ Draw/        # 绘图区域
│   │       ├── 🛠️ Tool/        # 绘图工具
│   │       │   ├── 👆 Pointer/ # 指针工具
│   │       │   ├── ✏️ Pencil/ # 铅笔工具
│   │       │   ├── ⬜ Rect/    # 矩形工具
│   │       │   ├── 🖌️ Brush/   # 画笔工具
│   │       │   ├── 🖌️ BrushV2/ # 画笔工具 V2
│   │       │   ├── 🎨 Spray/   # 喷枪工具
│   │       │   └── 🧹 Eraser/  # 橡皮擦工具
│   │       ├── 📝 PathItem/    # 路径项组件
│   │       └── 🎨 ColorProvider/ # 颜色管理
│   ├── 🔧 utils/               # 工具函数
│   │   ├── 📐 paperjsWeapon.ts # Paper.js 工具函数
│   │   └── 🎮 threejsWeapon.ts # Three.js 工具函数
│   ├── 🗃️ store/               # 状态管理
│   ├── 🖼️ assets/              # 静态资源
│   └── 🛣️ router/              # 路由配置
└── 📋 配置文件
```

## ⭐ 核心功能

### 🖼️ 1. 图像标注系统
- **🛠️ 多工具支持**: 指针、铅笔、画笔、矩形、喷枪、橡皮擦等多种绘图工具
- **🎨 颜色选择**: 基于 react-colorful 的实时颜色选择器，支持十六进制颜色输入
- **📝 路径管理**: 标注路径的创建、编辑、选择和删除
- **🎯 智能选中**: 路径选中时显示基于路径颜色的半透明背景，直观展示选中状态
- **📁 图像导入**: 支持导入图片进行标注

### ✏️ 2. 绘图工具
- **👆 指针工具 (Pointer)**: 选择和移动工具
- **✏️ 铅笔工具 (Pencil)**: 自由绘制线条
- **⬜ 矩形工具 (Rect)**: 绘制矩形框
- **🖌️ 画笔工具 (Brush)**: 圆形画笔，支持不同大小
- **🖌️ 画笔工具 V2 (BrushV2)**: 增强版画笔工具
- **🎨 喷枪工具 (Spray)**: 喷枪效果绘制
- **🧹 橡皮擦工具 (Eraser)**: 擦除已绘制的路径

### 🖼️ 3. 画布功能
- **🔍 缩放控制**: 鼠标滚轮缩放
- **🖱️ 平移操作**: 拖拽移动画布
- **📍 坐标显示**: 实时显示鼠标坐标
- **💾 导出功能**: 支持导出为 PNG 图片

### 🗃️ 4. 状态管理
- **🔄 Redux Toolkit**: 全局状态管理
- **🎯 Context API**: 颜色状态管理
- **💾 本地存储**: 标注数据持久化

## 主要组件说明

### LabelComponent (主标注组件)
```typescript
// 位置: src/pages/Label/index.tsx
// 功能: 标注工具的主界面，整合所有绘图工具和功能
```

### DrawComponent (绘图区域)
```typescript
// 位置: src/pages/Label/Draw/index.tsx
// 功能: 基于 Paper.js 的绘图画布，支持多种绘图工具
```

### 绘图工具组件
- **Pointer**: 指针工具，用于选择和移动
- **Pencil**: 铅笔工具，支持自由绘制
- **Rect**: 矩形工具，绘制矩形框
- **Brush**: 画笔工具，圆形画笔效果
- **BrushV2**: 增强版画笔工具
- **Spray**: 喷枪工具，粒子效果绘制
- **Eraser**: 橡皮擦工具，擦除已绘制的路径

### PathItem (路径管理)
```typescript
// 位置: src/pages/Label/PathItem/index.tsx
// 功能: 管理所有标注路径，支持选择和删除
// 特性: 
//   - 直接使用 path.selected 状态管理选中状态
//   - 选中时显示基于路径颜色的半透明背景
//   - 点击路径项可切换选中状态
```

## 🚀 开发环境设置

### 📋 环境要求
- **Node.js** >= 16.0.0
- **npm** 或 **yarn**

### 📦 安装依赖
```bash
# 使用 npm
npm install

# 或使用 yarn
yarn install
```

### 🏃‍♂️ 启动开发服务器
```bash
npm start
# 或
yarn start
```

### 🏗️ 构建生产版本
```bash
npm run build
# 或
yarn build
```

### 🧪 运行测试
```bash
npm test
# 或
yarn test
```

## 📖 使用说明

### 🎯 基本操作
1. **🛠️ 选择工具**: 点击左侧工具栏中的工具图标
2. **🎨 选择颜色**: 点击颜色选择器，选择绘制颜色
3. **✏️ 开始绘制**: 在画布上拖拽鼠标进行绘制
4. **📝 管理路径**: 右侧面板显示所有标注路径，可点击选择
5. **💾 导出图片**: 点击"Export Picture"按钮导出标注结果

### ⌨️ 快捷键
- **🖱️ 鼠标滚轮**: 缩放画布
- **🖱️ 拖拽**: 移动画布视图
- **👆 点击**: 选择工具或路径

## ✨ 技术特色

### 🎨 1. Paper.js 集成
- **📐 基于 Paper.js 的强大 2D 图形能力**
- **🔧 支持矢量图形操作**
- **⚡ 高性能的图形渲染**

### 🧩 2. 模块化设计
- **🔧 组件化的工具系统**
- **📈 可扩展的架构设计**
- **📋 清晰的代码结构**

### 🗃️ 3. 状态管理
- **🔄 Redux Toolkit 全局状态**
- **🎯 Context API 局部状态**
- **⚡ 响应式数据更新**

### 🎯 4. 用户体验
- **🎨 直观的界面设计**
- **🚀 流畅的交互体验**
- **⚡ 实时反馈**

## 🚀 扩展功能

### ✅ 已实现
- **🛠️ 多种绘图工具** (指针、铅笔、画笔、矩形、喷枪、橡皮擦)
- **🎨 颜色管理系统** (基于 Context API 和 react-colorful)
- **📝 路径管理** (创建、选择、删除，支持选中状态可视化)
- **💾 图片导出** (支持导出为 PNG 格式)
- **🎯 智能选中反馈** (选中路径显示半透明背景色)

### 🔮 可扩展
- **🛠️ 更多绘图工具**（椭圆、多边形等）
- **📚 图层管理**
- **↩️ 撤销/重做功能**
- **📁 标注数据导入/导出**
- **👥 协作功能**

## 🤝 贡献指南

1. **🍴 Fork 项目**
2. **🌿 创建功能分支** (`git checkout -b feature/AmazingFeature`)
3. **💾 提交更改** (`git commit -m 'Add some AmazingFeature'`)
4. **📤 推送到分支** (`git push origin feature/AmazingFeature`)
5. **🔄 创建 Pull Request**

## 📄 许可证

本项目采用 **MIT 许可证** - 查看 [LICENSE](LICENSE) 文件了解详情

## 📞 联系方式

- **👨‍💻 项目维护者**: didadida262
- **🔗 项目地址**: [GitHub Repository]
- **🌐 在线演示**: [https://project-label-v2.vercel.app/](https://project-label-v2.vercel.app/)

## 📝 更新日志

### 🎉 v0.1.0
- **🚀 初始版本发布**
- **🏷️ 基础标注功能**
- **🛠️ 多种绘图工具** (指针、铅笔、画笔、矩形、喷枪、橡皮擦)
- **🎨 颜色管理** (基于 Context API 和 react-colorful)
- **📝 路径管理** (支持选中状态可视化)
- **🎯 PathItem 组件优化** (简化选中状态管理，添加基于路径颜色的背景显示)

---

<div align="center">
  <p><em>最后更新: 2025年1月16日</em></p>
  <p>Made with ❤️ by didadida262</p>
</div>